# Items
Готовая система итемов (или лучше сказать валют?) похожая на ту, что мы использовали в нашем NFT проекте.

## Преимущества
- Умеет в сохранения
- Умеет в Clamp (в настройках предмета можно указать его максимальное кол-во).
- Умеет в Callback при изменении значения
- Количество хранимых предметов представлено типом float, что позволит хранить более большие числа, а в некоторых проектах вам может понадобиться работа с дробными числами.
- Удобная настройка из инспектора
- Оптимизированный поиск нужного предмета. Работает через словарик.
- Загружает все итемы из папки ресурсов без дополнительных игр с инспектором, что позволяет на ходу расширять "библиотеку" предметов.
- Без дополнительного кода можно сделать цену чего-либо состояющую из нескольких предметов. Допустим, улучшение станка требует от нас 4 камня, 2 дерева и 1 кристалл. Просто укажите его цену типом Items[] и наслаждайтесь.
- В API учтены часто используемые операции. Например, вы можете получить информацию о том, каких именно предметов не хватает у игрока.
- Удобно обменивать 1 предмет на другой.

## Недостатки
- Не умеет в хранение уникальных предметов. Допустим, вы хотите сделать что-то вроде Skyrim, где каждое оружие и броня хранится отдельно. Имеет уникальный id, возможно, какие-то различающие характеристики. Так вот, эта система не позволит вам сделать. А вот хранить 100.000 порций Скумы - всегда пожалуйста!
- Нельзя задать начальное кол-во валюты, которое при инициализации появится у игрока. Надо всё добавлять через код.

## #ЧаВО
### Стоит ли мне делать деньги игрока через эту систему?
Конечно! На самом деле это даже рекомендуется!

### Окей, а как тогда мне обновлять UI через него?
Да всё так же. Код будет похож на что-то такое.
``` C#
    // Определяем конфиг из инспектора
    [SerializeField] ItemConfig moneyConfig;
    // Получаем нужный нам предмет и подписываемся.
    player.items[moneyConfig.ID].OnValueChanged += UpdateMoneyUI;
```
### Где могу посмотреть примеры?
В папке ~Example. После того, как поймёте принцип, лучше удалите её, что бы она не мешалась.
В демо сцене стоит смотреть на объект с именем LOOK HERE!!! (ваш капитан очевидность :D)

### Как использовать в рамках фреймворка?
1. Просто поместите ItemsInventory внутрь вашей PlayerData. Он будет сохранять вместе с ней.
2. Добавьте ItemsLoadingSystem куда-то в начало. Она должна отработать раньше, чем вы начнёте использовать предметы. Например, в состояние Loading, если оно у вас есть.

## API
``` C#
// Инициализирует инвентарь.
// Нужно передать все использующиеся конфиги предметов.
ItemsInventory.Init(IEnumerable<ItemConfig>)

// Получаем предмет по ID, как если бы инвентарь был просто словарём.
ItemsInventory[string] 

// Прибавляем предмет (а точнее его кол-во) к уже существующему
ItemsInventory.Add(Item)

// Тоже самое, что и выше, но принимает коллекцию.
ItemsInventory.Add(IEnumerable<Items>)

// Вычитаем предмет (а точнее его кол-во) от уже существующего
ItemsInventory.Subtract(Item)

// Тоже самое, что и выше, но принимает коллекцию.
ItemsInventory.Subtract(IEnumerable<Items>)

// Проверка на то, хватает ли предметов в нашем инвентаре.
// Используйте это перед использованием Subtract метода.
ItemsInventory.IsEnough(Item)

// Тоже самое, что и выше, но принимает коллекцию.
ItemsInventory.IsEnough(IEnumerable<Items>)

// Тоже самое, что и выше
// Но ещё и возвращает список нехватающих предметов
ItemsInventory.IsEnough(IEnumerable<Items>, out IEnumerable<Item>)
```

